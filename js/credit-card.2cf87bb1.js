(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["credit-card"],{"0239":function(t,e,r){t.exports=r.p+"img/visa.9eac96ab.svg"},"02f4":function(t,e,r){var a=r("4588"),n=r("be13");t.exports=function(t){return function(e,r){var i,o,s=String(n(e)),c=a(r),u=s.length;return c<0||c>=u?t?"":void 0:(i=s.charCodeAt(c),i<55296||i>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):i:t?s.slice(c,c+2):o-56320+(i-55296<<10)+65536)}}},"082c":function(t,e,r){t.exports=r.p+"img/mastercard-green.9c6c8648.svg"},"1c4c":function(t,e,r){"use strict";var a=r("9b43"),n=r("5ca1"),i=r("4bf8"),o=r("1fa8"),s=r("33a4"),c=r("9def"),u=r("f1ae"),l=r("27ee");n(n.S+n.F*!r("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,n,d,m=i(t),p="function"==typeof this?this:Array,v=arguments.length,f=v>1?arguments[1]:void 0,h=void 0!==f,g=0,y=l(m);if(h&&(f=a(f,v>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(e=c(m.length),r=new p(e);e>g;g++)u(r,g,h?f(m[g],g):m[g]);else for(d=y.call(m),r=new p;!(n=d.next()).done;g++)u(r,g,h?o(d,f,[n.value,g],!0):n.value);return r.length=g,r}})},2112:function(t,e,r){t.exports=r.p+"img/mastercard.e6bbdc83.svg"},"4b84":function(t,e,r){t.exports=r.p+"img/back-three.2a9ec68b.svg"},5147:function(t,e,r){var a=r("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[a]=!1,!"/./"[t](e)}catch(n){}}return!0}},"5df3":function(t,e,r){"use strict";var a=r("02f4")(!0);r("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=a(e,r),this._i+=t.length,{value:t,done:!1})})},"7bd9":function(t,e,r){t.exports=r.p+"img/jcb.5ba15b35.svg"},"90e9":function(t,e,r){"use strict";var a=r("d471"),n=r.n(a);n.a},a57d:function(t,e,r){t.exports=r.p+"img/jcb-green.b206005e.svg"},aae3:function(t,e,r){var a=r("d3f4"),n=r("2d95"),i=r("2b4c")("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==n(t))}},d2c8:function(t,e,r){var a=r("aae3"),n=r("be13");t.exports=function(t,e,r){if(a(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(n(t))}},d471:function(t,e,r){},d7cb:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("Title",[t._v("STEP2. 填寫付款資訊")]),a("span",[t._v("信用卡/金融卡")]),a("div",{staticClass:"form"},[a("div",{staticClass:"group pay-limit"},[a("label",{attrs:{for:"once"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.payLimit,expression:"payLimit"}],attrs:{type:"radio",name:"pay-limit",value:"once",id:"once"},domProps:{checked:t._q(t.payLimit,"once")},on:{change:function(e){t.payLimit="once"}}}),a("span",[t._v("一次付款")])]),a("label",{attrs:{for:"seperate"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.payLimit,expression:"payLimit"}],attrs:{type:"radio",name:"pay-limit",value:"seperate",id:"seperate"},domProps:{checked:t._q(t.payLimit,"seperate")},on:{change:function(e){t.payLimit="seperate"}}}),a("span",[t._v("分期付款")])]),t.payLimitHasError?a("div",{staticClass:"error-no-select"},[t._v("沒有選擇付款期限")]):t._e()]),a("div",{staticClass:"group"},[a("label",{staticClass:"title"},[t._v("信用卡卡號：")]),a("div",{staticClass:"card-input-wrap"},[a("div",{staticClass:"creditcard-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue[0],expression:"inputValue[0]"}],ref:"col-1",staticClass:"card-ele",attrs:{type:"number",error:t.cardNumHasError,min:"0",max:"9999"},domProps:{value:t.inputValue[0]},on:{blur:function(e){return t.cardBlurCheck(0)},focus:function(t){return t.target.select()},input:[function(e){e.target.composing||t.$set(t.inputValue,0,e.target.value)},function(e){return t.onInput(1)()}]}}),a("span",[t._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue[1],expression:"inputValue[1]"}],ref:"col-2",staticClass:"card-ele",attrs:{type:"number",error:t.cardNumHasError,min:"0",max:"9999"},domProps:{value:t.inputValue[1]},on:{blur:function(e){return t.cardBlurCheck(1)},focus:function(t){return t.target.select()},input:[function(e){e.target.composing||t.$set(t.inputValue,1,e.target.value)},function(e){return t.onInput(2)()}]}}),a("span",[t._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue[2],expression:"inputValue[2]"}],ref:"col-3",staticClass:"card-ele",attrs:{type:"number",error:t.cardNumHasError,min:"0",max:"9999"},domProps:{value:t.inputValue[2]},on:{blur:function(e){return t.cardBlurCheck(2)},focus:function(t){return t.target.select()},input:[function(e){e.target.composing||t.$set(t.inputValue,2,e.target.value)},function(e){return t.onInput(3)()}]}}),a("span",[t._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue[3],expression:"inputValue[3]"}],ref:"col-4",staticClass:"card-ele",attrs:{type:"number",error:t.cardNumHasError,min:"0",max:"9999"},domProps:{value:t.inputValue[3]},on:{blur:function(e){return t.cardBlurCheck(3)},focus:function(t){return t.target.select()},input:[function(e){e.target.composing||t.$set(t.inputValue,3,e.target.value)},function(e){return t.onInput(4)()}]}})]),a("div",{staticClass:"card-is"},["none"===t.cardIs||"visa"!==t.cardIs?a("img",{attrs:{src:r("0239"),alt:""}}):t._e(),"visa"===t.cardIs?a("img",{attrs:{src:r("ecb7"),alt:""}}):t._e(),"none"===t.cardIs||"master"!==t.cardIs?a("img",{attrs:{src:r("2112"),alt:""}}):t._e(),"master"===t.cardIs?a("img",{attrs:{src:r("082c"),alt:""}}):t._e(),"none"===t.cardIs||"jcb"!==t.cardIs?a("img",{attrs:{src:r("7bd9"),alt:""}}):t._e(),"jcb"===t.cardIs?a("img",{attrs:{src:r("a57d"),alt:""}}):t._e()])]),t.cardNumHasError?a("div",{staticClass:"error-no-card-number"},[t._v("\n        非法信用卡卡號\n      ")]):t._e()]),a("div",{staticClass:"group date"},[a("label",{attrs:{for:"date-valid"}},[t._v("有效年月：")]),a("br"),a("select",{directives:[{name:"model",rawName:"v-model",value:t.monthInput,expression:"monthInput"}],attrs:{name:"",error:t.validMonthHasError,id:"date-valid"},on:{blur:t.monthCheck,change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.monthInput=e.target.multiple?r:r[0]}}},[a("option",{attrs:{disabled:""},domProps:{value:-1}},[t._v("請選擇")]),t._l(t.monthOptions,function(e,r){return a("option",{key:r,domProps:{value:e}},[t._v(t._s(e))])})],2),a("span",[t._v("/")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.yearInput,expression:"yearInput"}],attrs:{name:"",error:t.validYearHasError,id:""},on:{blur:t.yearCheck,change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.yearInput=e.target.multiple?r:r[0]}}},[a("option",{attrs:{disabled:""},domProps:{value:-1}},[t._v("請選擇")]),t._l(t.yearOptions,function(e,r){return a("option",{key:r,domProps:{value:e}},[t._v(t._s(e))])})],2),t.validYearHasError||t.validMonthHasError?a("div",{staticClass:"error-date"},[t._v("\n        沒有輸入有效年月\n      ")]):t._e()]),a("div",{staticClass:"group"},[a("label",{attrs:{for:"security-code"}},[t._v("背面末三碼：")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.securityCode,expression:"securityCode"}],staticClass:"three",attrs:{type:"number",name:"",error:t.securityCodeHasError,id:"security-code"},domProps:{value:t.securityCode},on:{blur:t.secureityCodeCheck,input:function(e){e.target.composing||(t.securityCode=e.target.value)}}}),a("img",{attrs:{width:"35",height:"25",src:r("4b84"),alt:""}}),t.securityCodeHasError?a("div",{staticClass:"error-security-code"},[t._v("安全碼錯誤")]):t._e()]),a("div",{staticClass:"group"},[a("label",{attrs:{for:"email"}},[t._v("填寫付款人信箱 :")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",name:"",error:t.emailHasError,id:"email"},domProps:{value:t.email},on:{blur:t.emailCheck,input:function(e){e.target.composing||(t.email=e.target.value)}}}),t.emailHasError?a("div",{staticClass:"error-email"},[t._v("沒有輸入email")]):t._e()]),a("div",{staticClass:"group no-wrap"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contractConfirm,expression:"contractConfirm"}],attrs:{type:"checkbox",name:"",id:""},domProps:{checked:Array.isArray(t.contractConfirm)?t._i(t.contractConfirm,null)>-1:t.contractConfirm},on:{change:function(e){var r=t.contractConfirm,a=e.target,n=!!a.checked;if(Array.isArray(r)){var i=null,o=t._i(r,i);a.checked?o<0&&(t.contractConfirm=r.concat([i])):o>-1&&(t.contractConfirm=r.slice(0,o).concat(r.slice(o+1)))}else t.contractConfirm=n}}})]),a("div",{staticClass:"word-wrap",on:{click:function(e){t.contractConfirm=!t.contractConfirm}}},[a("div",[t._v("請再次確認「訂單資訊」與「付款資訊」，付款完成後將發送通知信至您的 E-mail 信箱")]),a("div",{staticClass:"hint"},[t._v("第三方支付金流平台服務條款")])])])]),a("button",{staticClass:"back",on:{click:function(){return t.$router.go(-1)}}},[t._v("上一步")]),a("button",{staticClass:"confirm",attrs:{disabled:!t.contractConfirm},on:{click:function(){return t.onConfirmClick()&&t.$router.push("/finish")}}},[t._v("確認付款")])],1)},n=[],i=(r("f559"),r("d225")),o=r("b0b4"),s=r("308d"),c=r("6bb5"),u=r("4e2b"),l=(r("5df3"),r("1c4c"),r("9ab4")),d=r("60a3"),m=r("89dd"),p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.from({length:t},function(t,r){return r+e})},v=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(s["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.payLimit="once",t.inputValue=["","","",""],t.monthOptions=p(12,1),t.yearOptions=p(12,(new Date).getFullYear()-6),t.yearInput=-1,t.monthInput=-1,t.securityCode="",t.email="",t.contractConfirm=!1,t.payLimitHasError=!1,t.cardNumHasError=!1,t.validMonthHasError=!1,t.validYearHasError=!1,t.securityCodeHasError=!1,t.emailHasError=!1,t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"onInput",value:function(t){var e=this;return function(){var r=e.$refs["col-"+t];if(r=r.value,console.log(r),4!==t&&4===(""+r).length){var a=e.$refs["col-"+(t+1)];a.focus()}else 4===t&&e.inputValue[t-1].length>4&&(e.inputValue[t-1]=e.inputValue[t-1].substring(0,4),e.cardNumIsValid())}}},{key:"cardNumIsValid",value:function(){this.cardNumHasError=!this.inputValue.every(function(t){return 4===t.length})}},{key:"cardBlurCheck",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.cardNumHasError=4!==this.inputValue[t].length}},{key:"yearCheck",value:function(){this.validYearHasError=-1===this.yearInput}},{key:"monthCheck",value:function(){this.validMonthHasError=-1===this.monthInput}},{key:"secureityCodeCheck",value:function(){this.securityCodeHasError=3!==this.securityCode.length}},{key:"emailCheck",value:function(){this.emailHasError=!/.+@.+\..+/.test(this.email)}},{key:"onConfirmClick",value:function(){return this.cardNumIsValid(),this.yearCheck(),this.monthCheck(),this.secureityCodeCheck(),this.emailCheck(),!(this.cardNumHasError||this.validYearHasError||this.validMonthHasError||this.securityCodeHasError||this.emailHasError)}},{key:"cardIs",get:function(){return this.inputValue[0].length<4?"none":this.inputValue[0].startsWith("4")?"visa":+this.inputValue[0].slice(0,2)<=55&&+this.inputValue[0].slice(0,2)>=51?"master":"1800"===this.inputValue[0]||"2131"===this.inputValue[0]||+this.inputValue[0].slice(0,3)>=300&&+this.inputValue[0].slice(0,3)<400?"jcb":"none"}}]),e}(d["c"]);v=l["a"]([Object(d["a"])({components:{Title:m["a"]}})],v);var f=v,h=f,g=(r("90e9"),r("2877")),y=Object(g["a"])(h,a,n,!1,null,"6f03a4e8",null);e["default"]=y.exports},ecb7:function(t,e,r){t.exports=r.p+"img/visa-green.968ab460.svg"},f1ae:function(t,e,r){"use strict";var a=r("86cc"),n=r("4630");t.exports=function(t,e,r){e in t?a.f(t,e,n(0,r)):t[e]=r}},f559:function(t,e,r){"use strict";var a=r("5ca1"),n=r("9def"),i=r("d2c8"),o="startsWith",s=""[o];a(a.P+a.F*r("5147")(o),"String",{startsWith:function(t){var e=i(this,t,o),r=n(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),a=String(t);return s?s.call(e,a,r):e.slice(r,r+a.length)===a}})}}]);
//# sourceMappingURL=credit-card.2cf87bb1.js.map